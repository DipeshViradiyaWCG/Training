{{> navbar}}

<div class="row justify-content-evenly mt-3">
    <div class="col-6">
        <h3>Add Product</h3>
        <hr>
        <form method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="firstname" class="form-label">Product Name</label>
                <input type="text" class="form-control" id="firstname" name="productname" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
                <label for="lastname" class="form-label">Category Name</label>
                <input type="text" class="form-control" id="lastname" name="productcategory" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
                <label for="class" class="form-label">Price</label>
                <input type="number" class="form-control" id="class" name="price" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
                <label for="stream" class="form-label">Description</label>
                <input type="text" class="form-control" id="stream" name="productdesc" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
                <label for="stream" class="form-label">Product Image</label>
                <input type="file" class="form-control" id="stream" name="productimg" aria-describedby="emailHelp">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <input type="button" onclick="testAPI()" value="Test API">
        <p id="pid"></p>
    </div>
</div>

<script>
    function testAPI(){
        var apilink = "http://localhost:3000/add-product";
        fetch(apilink, {mode: 'no-cors'}).then((data) => {
            console.log(data);
            document.getElementById("pid").innerText = data;
        }).catch((err) => {
            document.getElementById("pid").innerText = err;
        });
    }
</script>